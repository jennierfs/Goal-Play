# Application Configuration
# NODE_ENV must be "production" in production deployments.
NODE_ENV=production
# Port exposed by the process/container (reverse proxy must forward to this).
PORT=3001

# Frontend Feature Flags
# Keep fallback mode disabled in production; enable only for demos or mock builds.
VITE_ENABLE_API_FALLBACK=false

# Frontend API Configuration
# VITE_API_URL is injected at build time; keep `/api` when reverse proxying the backend through the same domain.
VITE_API_URL=/api
# Canonical frontend origin. Update when deploying under a different host.
VITE_FRONTEND_URL=https://game.goalplay.pro

# Database Configuration
# Postgres is the default for production deployments. Switch DB_TYPE back to "sqlite"
# and set DB_PATH if you want a local lightweight database.
DB_TYPE=postgres
DB_PATH=./data/goalplay.db

# Postgres connection (used when DB_TYPE=postgres and DATABASE_URL is empty)
DB_HOST=game-app-db-do-user-12345-0.b.db.ondigitalocean.com
DB_PORT=5432
DB_USERNAME=goalplay
DB_PASSWORD=your-db-password
DB_DATABASE=goalplay
DB_SSL=false
# Reject self-signed TLS certs only if your provider offers official CA bundles
DB_SSL_REJECT_UNAUTHORIZED=true
# Auto-create tables (set to false once migrations are in place)
DB_SYNCHRONIZE=true

# Optional: full connection string. Leave empty to build the URL from the values above.
DATABASE_URL=

# JWT Configuration
# REQUIRED: replace with a 32+ char random secret (e.g., `openssl rand -hex 32`).
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
# Optional: customise token lifetime (default 1h)
JWT_EXPIRES_IN=1h

# CORS Configuration
# REQUIRED: comma-separated trusted frontend origins.
CORS_ORIGIN=https://game.goalplay.pro

# Metrics & Monitoring
# REQUIRED: random token validated against X-Metrics-Key when scraping metrics (e.g., `openssl rand -hex 32`).
SECURITY_METRICS_TOKEN=change-me-in-production
# Optional: tune failure thresholds for security metrics circuit breaker
SECURITY_METRICS_WINDOW_MS=600000
SECURITY_METRICS_FAILURE_THRESHOLD=5

# Blockchain Receiving Wallets (CHANGE THESE TO YOUR REAL WALLETS)
ETH_RECEIVING_WALLET_1=0xa43A611B20525fc7EE6B4071d89168b46A8Cb1F0
POLYGON_RECEIVING_WALLET_1=0xa43A611B20525fc7EE6B4071d89168b46A8Cb1F0
BSC_RECEIVING_WALLET_1=0xa43A611B20525fc7EE6B4071d89168b46A8Cb1F0
ARB_RECEIVING_WALLET_1=0xa43A611B20525fc7EE6B4071d89168b46A8Cb1F0
SOL_RECEIVING_WALLET_1=11111111111111111111111111111112

# Etherscan V2 Configuration (required)
ETHERSCAN_API_KEY=W6GY51C3NBYH7IJ2MY34F2MCHM8AFP9QBX
ETHERSCAN_BASE_URL=https://api.etherscan.io/v2/api
ETHERSCAN_DEFAULT_CHAINID=56
# Optional client-side rate limiting
ETHERSCAN_MAX_CPS=5
ETHERSCAN_MAX_DAILY=100000
# ETHERSCAN_LIMIT_SCOPE=global
# ETHERSCAN_DAILY_RESET_HOUR_UTC=00
# ETHERSCAN_RETRY_MAX_ATTEMPTS=3
# ETHERSCAN_RETRY_BASE_MS=250
# ETHERSCAN_RETRY_JITTER=true
# ETHERSCAN_TIMEOUT_MS=10000
# ETHERSCAN_FEATURE_FLAG_V2=true

# Blockchain RPC URLs (optional - uses public RPCs by default)
BSC_RPC_URL=https://bsc-dataseed1.binance.org/
ETH_RPC_URL=https://mainnet.infura.io/v3/your-project-id
POLYGON_RPC_URL=https://polygon-rpc.com/
ARB_RPC_URL=https://arb1.arbitrum.io/rpc
SOL_RPC_URL=https://api.mainnet-beta.solana.com

# Rate Limiting
THROTTLE_TTL=60000
THROTTLE_LIMIT=100

# Audit logging rotation thresholds (bytes, file count)
AUDIT_LOG_MAX_SIZE_BYTES=5242880
AUDIT_LOG_MAX_BACKUPS=3

# Frontend URL for referral links
FRONTEND_URL=https://game.goalplay.pro
